<p-dialog 
styleClass="dialog-form"
[position]="isMobile() ? 'bottom' : 'center'"
header="Dados de entrega"
[modal]="true"
[(visible)]="_visible"
(onHide)="closeDialog()"
[draggable]="false"
class="w-full"
[style]="{ width: isMobile() ? '30rem' : '40rem'}"
>

<div [formGroup]="formUser" class="mt-4 container-form flex flex-column gap-2">
    @if(type() === 'user') {
        <p-floatlabel variant="on">
            <input pInputText id="on_label" formControlName="nome" autocomplete="off" />
            <label for="on_label">Nome</label>
        </p-floatlabel>
    
        <p-floatlabel variant="on">
            <p-inputmask id="on_label" formControlName="telefone" mask="99999999999" />
            <label for="on_label">Telefone</label>
        </p-floatlabel>
    <p-button size="small" label="Avançar" (click)="advance('address')"/>
    } @else if(type() === 'address') {
        <p-floatlabel variant="on">
            <input pInputText id="on_label" formControlName="rua" autocomplete="off" />
            <label for="on_label">Rua</label>
        </p-floatlabel>

        <p-floatlabel variant="on">
            <input pInputText id="on_label" formControlName="numero" autocomplete="off" />
            <label for="on_label">Número</label>
        </p-floatlabel>

        <p-floatlabel variant="on">
            <input pInputText id="on_label" formControlName="bairro" autocomplete="off" />
            <label for="on_label">Bairro</label>
        </p-floatlabel>
    
        <p-floatlabel variant="on">
            <p-inputmask id="on_label" formControlName="cep" mask="99999999" />
            <label for="on_label">Cep</label>
        </p-floatlabel>

            <p-button size="small" label="Avançar" (click)="advance('payment')"/>
    } @else if(type() === 'payment') {

        <p-select 
        [options]="typePayment()" 
        formControlName="metodo_pgto" 
        optionLabel="name" 
        optionValue="value"
        placeholder="Tipo de pagamento"
        class="w-full my-2" 
        appendTo="body"
        />

        <!-- @if(metodo_pgto() === 'Dinheiro') {
        <p-floatlabel variant="on">
            <p-input-number [min]="" [fluid]="true" id="on_label" formControlName="troco" autocomplete="off" />
            <label for="on_label">Troco para</label>
        </p-floatlabel>
        } -->

        <div class="m-2 flex justify-content-between align-items-center">
            <span class="text-2xl">Total</span>
            <span class="font-bold text-2xl">{{total()| currency}}</span>
        </div>
    
        <p-button size="small" label="Finalizar" (click)="advance('finalizar')"/>
    }

</div>


</p-dialog>